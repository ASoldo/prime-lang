manifest_version = "3"

[package]
name = "demos::esp32_blink"
version = "0.1.0"

[module]
name = "demos::esp32_blink"
path = "esp32_blink.prime"
visibility = "pub"
no_std = true

[build]
# Classic ESP32 (Xtensa). If you ever move to ESP32-C3, switch this.
target = "xtensa-esp32-espidf"
platform = "esp32"

[build.toolchain]
cc = "xtensa-esp32-elf-gcc"
ar = "xtensa-esp32-elf-ar"
objcopy = "xtensa-esp32-elf-objcopy"
esptool = "esptool"

# Use linker scripts from the ESP32 toolchain bundle
ld_script = "/home/rootster/.espressif/tools/xtensa-esp32-elf/xtensa-esp32-elf/xtensa-esp32-elf/lib/app.elf.ld"

# Linker flags and additional scripts (pair memory.elf.ld with app.elf.ld)
ld_flags = """-Wl,--gc-sections \
-T/home/rootster/.espressif/tools/xtensa-esp32-elf/xtensa-esp32-elf/xtensa-esp32-elf/lib/memory.elf.ld"""

# Startup/crt0 from the toolchain (Espressif bundle)
startup_obj = "/home/rootster/.espressif/tools/xtensa-esp32-elf/xtensa-esp32-elf/xtensa-esp32-elf/lib/crt0.o"

[build.flash]
enabled = true
port = "/dev/ttyUSB0"
baud = 460800
address = "0x10000"
