test tests::basic;

import pkg::lib;

fn adds_numbers() -> (int32, int32) {
  (1, 4)
}

fn adds_two_numbers(a: int32, b: int32) -> bool {
  a + b == 5
}

fn validates_imported_identity() -> bool {
  let Banner b = promote("task", true);
  let string status = describe(b);
  status == "highlighted"
}

fn uses_asserts() -> bool {
  assert(true);
  expect(true, "expect should not panic");
  let string sentence = `one two three`;
  let int32 chars = sentence.str_len();
  let bool has_two = sentence.str_contains("two");
  let string trimmed = ` padded `.str_trim();
  let []string parts = sentence.str_split(" ");
  return chars == 13 && has_two && trimmed == "padded" && parts.len() == 3;
}

fn pointer_writes() -> bool {
  let mut int32 hp = 10;
  let ptr = ptr_mut(&mut hp);
  *ptr = *ptr + 5;
  hp == 15 && *ptr == 15
}

fn pointer_reads() -> bool {
  let int32 hp = 7;
  let ptr = ptr(&hp);
  *ptr == 7
}

fn range_is_storable() -> bool {
  let Range[int32] span = 1..=3;
  span;
  true
}
